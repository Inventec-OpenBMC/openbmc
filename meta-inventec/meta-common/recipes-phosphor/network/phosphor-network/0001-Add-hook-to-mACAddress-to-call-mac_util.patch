From 0bc439e0ecbbdfe7a6bc468ddcdb0f113a1c9b53 Mon Sep 17 00:00:00 2001
From: "pj.chen" <chen.pj@inventec.com>
Date: Thu, 21 Jan 2021 07:13:17 +0000
Subject: [PATCH] Add hook to mACAddress to call mac_util

---
 ethernet_interface.cpp | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/ethernet_interface.cpp b/ethernet_interface.cpp
index ce424ff..93d6227 100644
--- a/ethernet_interface.cpp
+++ b/ethernet_interface.cpp
@@ -1106,6 +1106,8 @@ std::string EthernetInterface::macAddress(std::string value)
         execute("/sbin/ip", "ip", "link", "set", "dev", interface.c_str(),
                 "down");
         manager.writeToConfigurationFile();
+        /* Inventec hook for mac setting */
+        execute("/usr/bin/mac_util", "w",interface.c_str(), value.c_str());
     }
 
 #ifdef HAVE_UBOOT_ENV
-- 
2.17.1

